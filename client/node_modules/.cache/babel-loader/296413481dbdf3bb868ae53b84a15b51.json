{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aishwarya\\\\Desktop\\\\PRACTICE\\\\expo\\\\client\\\\src\\\\components\\\\piechart\\\\Pie.jsx\";\nimport { useEffect, useState } from \"react\";\nimport { Pie } from 'react-chartjs-2';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend } from 'chart.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(Tooltip, Legend, ArcElement);\nconst apiUrl = \"http://localhost:8080\";\nconst [incomes, setIncomes] = useState([]);\nconst [expense, setExpense] = useState([]);\nconst [error, setError] = useState(\"\");\nuseEffect(() => {\n  getItems();\n  getExItems();\n}, []);\n\nconst getItems = () => {\n  fetch(`${apiUrl}/income`).then(res => res.json()).then(res => setIncomes(res)).catch(() => setError(\"Failed to fetch incomes\"));\n};\n\nconst getExItems = () => {\n  fetch(`${apiUrl}/expense`).then(res => res.json()).then(res => setExpense(res)).catch(() => setError(\"Failed to fetch expenses\"));\n}; // Ensure `amount` is properly accessed\n\n\nconst totalIncome = incomes.reduce((sum, item) => sum + item.Amount, 0);\nconst totalExpense = expense.reduce((sum, item) => sum + (item.amount || 0), 0);\nconst remainingBalance = totalIncome - totalExpense;\nconst PieChartData = {\n  labels: [\"Remaining\", \"Expense\"],\n  datasets: [{\n    label: \"Money spent\",\n    data: [totalExpense, remainingBalance],\n    backgroundColor: [\"beige\", \"yellow\"],\n    hoverOffset: 4\n  }]\n};\n\nconst PieChart = () => {\n  const options = {};\n  return /*#__PURE__*/_jsxDEV(Pie, {\n    options: options,\n    data: PieChartData\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 11\n  }, this);\n};\n\n_c = PieChart;\nexport default PieChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"PieChart\");","map":{"version":3,"sources":["C:/Users/Aishwarya/Desktop/PRACTICE/expo/client/src/components/piechart/Pie.jsx"],"names":["useEffect","useState","Pie","Chart","ChartJS","ArcElement","Tooltip","Legend","register","apiUrl","incomes","setIncomes","expense","setExpense","error","setError","getItems","getExItems","fetch","then","res","json","catch","totalIncome","reduce","sum","item","Amount","totalExpense","amount","remainingBalance","PieChartData","labels","datasets","label","data","backgroundColor","hoverOffset","PieChart","options"],"mappings":";AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAEA,SAASC,GAAT,QAAoB,iBAApB;AACA,SACIC,KAAK,IAAIC,OADb,EAEIC,UAFJ,EAGIC,OAHJ,EAIIC,MAJJ,QAKO,UALP;;AAOAH,OAAO,CAACI,QAAR,CACIF,OADJ,EAEIC,MAFJ,EAGIF,UAHJ;AAKA,MAAMI,MAAM,GAAG,uBAAf;AACI,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,EAAD,CAAtC;AACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,EAAD,CAAtC;AACA,MAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AAEAD,SAAS,CAAC,MAAM;AACZgB,EAAAA,QAAQ;AACRC,EAAAA,UAAU;AACb,CAHQ,EAGN,EAHM,CAAT;;AAKA,MAAMD,QAAQ,GAAG,MAAM;AACnBE,EAAAA,KAAK,CAAE,GAAET,MAAO,SAAX,CAAL,CACKU,IADL,CACWC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADnB,EAEKF,IAFL,CAEWC,GAAD,IAAST,UAAU,CAACS,GAAD,CAF7B,EAGKE,KAHL,CAGW,MAAMP,QAAQ,CAAC,yBAAD,CAHzB;AAIH,CALD;;AAOA,MAAME,UAAU,GAAG,MAAM;AACrBC,EAAAA,KAAK,CAAE,GAAET,MAAO,UAAX,CAAL,CACKU,IADL,CACWC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADnB,EAEKF,IAFL,CAEWC,GAAD,IAASP,UAAU,CAACO,GAAD,CAF7B,EAGKE,KAHL,CAGW,MAAMP,QAAQ,CAAC,0BAAD,CAHzB;AAIH,CALD,C,CAOA;;;AACA,MAAMQ,WAAW,GAAGb,OAAO,CAACc,MAAR,CAAe,CAACC,GAAD,EAAMC,IAAN,KAAeD,GAAG,GAAGC,IAAI,CAACC,MAAzC,EAAiD,CAAjD,CAApB;AACA,MAAMC,YAAY,GAAGhB,OAAO,CAACY,MAAR,CAAe,CAACC,GAAD,EAAMC,IAAN,KAAeD,GAAG,IAAIC,IAAI,CAACG,MAAL,IAAe,CAAnB,CAAjC,EAAwD,CAAxD,CAArB;AACA,MAAMC,gBAAgB,GAAGP,WAAW,GAAGK,YAAvC;AAGH,MAAMG,YAAY,GAAC;AAChBC,EAAAA,MAAM,EAAC,CAAC,WAAD,EAAa,SAAb,CADS;AAEhBC,EAAAA,QAAQ,EAAC,CAAC;AACNC,IAAAA,KAAK,EAAC,aADA;AAENC,IAAAA,IAAI,EAAC,CAACP,YAAD,EAAcE,gBAAd,CAFC;AAGNM,IAAAA,eAAe,EAAC,CACZ,OADY,EACJ,QADI,CAHV;AAMNC,IAAAA,WAAW,EAAC;AANN,GAAD;AAFO,CAAnB;;AAWD,MAAMC,QAAQ,GAAC,MAAI;AACf,QAAMC,OAAO,GAAC,EAAd;AACA,sBAAM,QAAC,GAAD;AAAK,IAAA,OAAO,EAAEA,OAAd;AAAuB,IAAA,IAAI,EAAER;AAA7B;AAAA;AAAA;AAAA;AAAA,UAAN;AACH,CAHD;;KAAMO,Q;AAIN,eAAeA,QAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nimport { Pie } from 'react-chartjs-2';\r\nimport {\r\n    Chart as ChartJS,\r\n    ArcElement,\r\n    Tooltip,\r\n    Legend\r\n} from 'chart.js';\r\n\r\nChartJS.register(\r\n    Tooltip,\r\n    Legend,\r\n    ArcElement\r\n);\r\nconst apiUrl = \"http://localhost:8080\";\r\n    const [incomes, setIncomes] = useState([]);\r\n    const [expense, setExpense] = useState([]);\r\n    const [error, setError] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        getItems();\r\n        getExItems();\r\n    }, []);\r\n\r\n    const getItems = () => {\r\n        fetch(`${apiUrl}/income`)\r\n            .then((res) => res.json())\r\n            .then((res) => setIncomes(res))\r\n            .catch(() => setError(\"Failed to fetch incomes\"));\r\n    };\r\n\r\n    const getExItems = () => {\r\n        fetch(`${apiUrl}/expense`)\r\n            .then((res) => res.json())\r\n            .then((res) => setExpense(res))\r\n            .catch(() => setError(\"Failed to fetch expenses\"));\r\n    };\r\n\r\n    // Ensure `amount` is properly accessed\r\n    const totalIncome = incomes.reduce((sum, item) => sum + item.Amount, 0);\r\n    const totalExpense = expense.reduce((sum, item) => sum + (item.amount || 0), 0);\r\n    const remainingBalance = totalIncome - totalExpense; \r\n\r\n    \r\n const PieChartData={\r\n    labels:[\"Remaining\",\"Expense\"],\r\n    datasets:[{\r\n        label:\"Money spent\",\r\n        data:[totalExpense,remainingBalance],\r\n        backgroundColor:[\r\n            \"beige\",\"yellow\",\r\n        ],\r\n        hoverOffset:4,\r\n    },]\r\n}\r\nconst PieChart=()=>{\r\n    const options={}\r\n    return<Pie options={options} data={PieChartData}/>\r\n}\r\nexport default PieChart;"]},"metadata":{},"sourceType":"module"}