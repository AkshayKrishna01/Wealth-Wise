{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aishwarya\\\\Desktop\\\\PRACTICE\\\\expo\\\\client\\\\src\\\\components\\\\Income\\\\index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Todo() {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setdescription] = useState(\"\");\n  const [todos, setTodos] = useState([]);\n  const [error, seterror] = useState(\"\");\n  const [message, setmessage] = useState(\"\");\n  const [editId, setEditId] = useState(-1); // Edit\n\n  const [editTitle, setEditTitle] = useState(\"\");\n  const [editDescription, setEditDesciption] = useState(\"\");\n  const apiUrl = \"http://localhost:8080\";\n\n  const handleSubmit = () => {\n    seterror(\"\");\n\n    if (title.trim() !== '' && description.trim() !== '') {\n      fetch(apiUrl + \"/todos\", {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title,\n          description\n        })\n      }).then(res => {\n        if (res.ok) {\n          setTodos([...todos, {\n            title,\n            description\n          }]);\n          setmessage(\"Item added successfully\");\n          setTitle(\"\");\n          setdescription(\"\");\n          setTimeout(() => {\n            setmessage(\"\");\n          }, 3000);\n        } else {\n          seterror(\"Unable to create Todo item\");\n        }\n      }).catch(() => {\n        seterror(\"Unable to create Todo item\");\n      });\n    }\n  };\n\n  useEffect(() => {\n    getItems();\n  }, []);\n\n  const getItems = () => {\n    fetch(apiUrl + \"/todos\", {\n      method: \"GET\"\n    }).then(res => res.json()).then(res => {\n      setTodos(res);\n    });\n  };\n\n  const handleDelete = id => {\n    if (window.confirm(\"Are sure want to delete this?\")) {\n      fetch(apiUrl + \"/todos/\" + id, {\n        method: \"DELETE\"\n      }).then(res => {\n        const updatedTodos = todos.filter(item => item._id !== id);\n        setTodos(updatedTodos);\n      }).catch(() => {\n        seterror(\"Unable to update Todo item\");\n      });\n    }\n  };\n\n  const handleEdit = item => {\n    setEditId(item._id);\n    setEditTitle(item.title);\n    setEditDesciption(item.description);\n  };\n\n  const handleEditCancel = () => {\n    setEditId(-1);\n  };\n\n  const handleUpdate = () => {\n    seterror(\"\");\n\n    if (editTitle.trim() !== '' && editDescription.trim() !== '') {\n      fetch(apiUrl + \"/todos/\" + editId, {\n        method: \"PUT\",\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(res => {\n        if (res.ok) {\n          const updatedTodos = todos.map(item => {\n            if (item._id == editId) {\n              item.title = editTitle;\n              item.description = editDescription;\n            }\n\n            return item;\n          });\n          setTodos(updatedTodos);\n          setEditTitle(\"\");\n          setEditDesciption(\"\");\n          setmessage(\"Item updated successfully\");\n          setTimeout(() => {\n            setmessage(\"\");\n          }, 3000);\n          setEditId(-1);\n        } else {\n          seterror(\"Unable to update Todo item\");\n        }\n      }).catch(() => {\n        seterror(\"Unable to update Todo item\");\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row p-3 bg-success text-light\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"ToDo Project with MERN STACK\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Add Item\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-success\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"title\",\n          onChange: e => {\n            setTitle(e.target.value);\n          },\n          value: title,\n          className: \"form-control\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Description\",\n          onChange: e => {\n            setdescription(e.target.value);\n          },\n          value: description,\n          className: \"form-control\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-dark\",\n          onClick: handleSubmit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Tasks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-6\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group\",\n          children: todos.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-grow-item bg-info d-flex justify-content-between align-items-center p-3 my-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex flex-column\",\n              children: editId == -1 || editId !== item._id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"fw-bold\",\n                  children: item.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: item.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group d-flex gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Title\",\n                    onChange: e => setEditTitle(e.target.value),\n                    value: editTitle,\n                    className: \"form-control\",\n                    type: \"text\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    placeholder: \"Description\",\n                    onChange: e => setEditDesciption(e.target.value),\n                    value: editDescription,\n                    className: \"form-control\",\n                    type: \"text\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 33\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 137,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex gap-2\",\n              children: [editId == -1 || editId !== item._id ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-warning\",\n                onClick: () => handleEdit(item),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 64\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-warning\",\n                onClick: handleUpdate,\n                children: \"Update\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 148\n              }, this), editId == -1 || editId !== item._id ? /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: () => handleDelete(item._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 65\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-danger\",\n                onClick: handleEditCancel,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 8\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Todo, \"sAtJlB8ZWemMsQ/VOjaH15km0zc=\");\n\n_c = Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"sources":["C:/Users/Aishwarya/Desktop/PRACTICE/expo/client/src/components/Income/index.jsx"],"names":["useEffect","useState","Todo","title","setTitle","description","setdescription","todos","setTodos","error","seterror","message","setmessage","editId","setEditId","editTitle","setEditTitle","editDescription","setEditDesciption","apiUrl","handleSubmit","trim","fetch","method","headers","body","JSON","stringify","then","res","ok","setTimeout","catch","getItems","json","handleDelete","id","window","confirm","updatedTodos","filter","item","_id","handleEdit","handleEditCancel","handleUpdate","map","e","target","value"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\"\n\nexport default function Todo(){\n    const[title,setTitle]=useState(\"\")\n    const[description,setdescription]=useState(\"\")\n    const[todos,setTodos]=useState([])\n    const[error,seterror]=useState(\"\")\n    const[message,setmessage]=useState(\"\")\n    const[editId,setEditId]=useState(-1)\n    // Edit\n    const [editTitle, setEditTitle] = useState(\"\");\n    const [editDescription, setEditDesciption] = useState(\"\");\n    const apiUrl = \"http://localhost:8080\"\n    const handleSubmit=()=>{\n        seterror(\"\")\n        if (title.trim() !== '' && description.trim() !== '') {\n            fetch(apiUrl+\"/todos\", {\n                method: \"POST\",\n                headers: {\n                    'Content-Type':'application/json'\n                },\n                body: JSON.stringify({title, description})\n            }).then((res)=>{\n                if(res.ok){\n                    setTodos([...todos,{title,description}])\n                    setmessage(\"Item added successfully\")\n                    setTitle(\"\");\n                    setdescription(\"\");\n                    setTimeout(()=>{\n                        setmessage(\"\");\n                    },3000)\n                }else{\n                    seterror(\"Unable to create Todo item\")\n                }\n            }).catch(()=>{\n                seterror(\"Unable to create Todo item\")\n            })\n\n        }\n    }\n    useEffect(() => {\n        getItems()\n    }, [])\n    const getItems = () => {\n        fetch(apiUrl+\"/todos\",{\n            method:\"GET\"\n        })\n        .then((res)=>res.json())\n        .then((res) => {\n            setTodos(res)\n        })\n    }\n    const handleDelete=(id)=>{\n        if (window.confirm(\"Are sure want to delete this?\")) {\n            fetch(apiUrl+\"/todos/\"+id, {\n                method: \"DELETE\",\n                \n            }).then((res)=>{\n                const updatedTodos=todos.filter((item)=>item._id!==id)\n                setTodos(updatedTodos)\n            }).catch(()=>{\n                seterror(\"Unable to update Todo item\")\n            })\n\n        }\n\n    }\n    const handleEdit=(item)=>{\n        setEditId(item._id)\n        setEditTitle(item.title)\n        setEditDesciption(item.description)\n    }\n    const handleEditCancel=()=>{\n        setEditId(-1);\n    }\n    const handleUpdate=()=>{\n        seterror(\"\")\n        if (editTitle.trim() !== '' && editDescription.trim() !== '') {\n            fetch(apiUrl+\"/todos/\"+editId, {\n                method: \"PUT\",\n                headers: {\n                    'Content-Type':'application/json'\n                },\n            }).then((res)=>{\n                if(res.ok){\n                    const updatedTodos=todos.map((item)=>{\n                        if(item._id==editId){\n                            item.title=editTitle;\n                            item.description=editDescription;\n                        }\n                        return item;\n                    })\n                    setTodos(updatedTodos)\n                    setEditTitle(\"\");\n                    setEditDesciption(\"\")\n                    setmessage(\"Item updated successfully\")\n                    setTimeout(()=>{\n                        setmessage(\"\");\n                    },3000)\n                    setEditId(-1)\n                }else{\n                    seterror(\"Unable to update Todo item\")\n                }\n            }).catch(()=>{\n                seterror(\"Unable to update Todo item\")\n            })\n\n        }\n    }\n\n    return <div><div className=\"row p-3 bg-success text-light\">\n        <h1>ToDo Project with MERN STACK</h1>\n    </div>\n    <div className=\"row\">\n        <h3>Add Item</h3>\n        {message && <p className=\"text-success\">{message}</p>}\n        <div className=\"form-group\">\n             <input placeholder=\"title\" onChange={(e)=>{setTitle(e.target.value)}} value={title} className=\"form-control\" type=\"text\"/>\n             <input placeholder=\"Description\" onChange={(e)=>{setdescription(e.target.value)}} value={description} className=\"form-control\" type=\"text\"/>\n            <button className=\"btn btn-dark\" onClick={handleSubmit}>Submit</button>\n        </div>\n        {error&&<p className=\"text-danger\">{error}</p>}\n    </div>\n    <div className=\"row mt-3\">\n        <h3>Tasks</h3>\n       <div className=\"col-md-6\">\n       <ul className=\"list-group\">\n            {\n                todos.map((item)=>      \n                <li className=\"list-grow-item bg-info d-flex justify-content-between align-items-center p-3 my-2\">\n                <div className=\"d-flex flex-column\">\n                {\n                            editId == -1 || editId !==  item._id ? <>\n                                <span className=\"fw-bold\">{item.title}</span>\n                                <span>{item.description}</span>\n                            </> : <>\n                            <div className=\"form-group d-flex gap-2\">\n                                <input placeholder=\"Title\" onChange={(e) => setEditTitle(e.target.value)} value={editTitle} className=\"form-control\" type=\"text\" />\n                                <input placeholder=\"Description\" onChange={(e) => setEditDesciption(e.target.value)} value={editDescription} className=\"form-control\" type=\"text\" />\n                            </div>\n                            </>\n                        }\n                </div>\n\n                <div className=\"d-flex gap-2\">\n                        { editId == -1 || editId !==  item._id?<button className=\"btn btn-warning\" onClick={() => handleEdit(item)} >Edit</button>:<button className=\"btn btn-warning\" onClick={handleUpdate} >Update</button>}\n                        { editId == -1 || editId !==  item._id? <button className=\"btn btn-danger\" onClick={() => handleDelete(item._id)}>Delete</button> :\n                        <button className=\"btn btn-danger\" onClick={handleEditCancel}>Cancel</button> }\n                    </div>\n            </li>)\n            }\n      \n        </ul>\n       </div>\n    </div>\n    </div>\n}\n"]},"metadata":{},"sourceType":"module"}