{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\n\nconst useExpenseData = () => {\n  _s();\n\n  const [expenses, setExpenses] = useState([]);\n  const [totalExpense, setTotalExpense] = useState(0);\n  const apiUrl = \"http://localhost:8080/api/expense\"; // Helper to get auth headers (JWT from localStorage)\n\n  const getAuthHeaders = () => {\n    const token = localStorage.getItem(\"token\");\n    return {\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`\n    };\n  }; // Fetch expenses from backend\n\n\n  useEffect(() => {\n    fetchExpenses();\n  }, []);\n\n  const fetchExpenses = () => {\n    fetch(apiUrl, {\n      method: \"GET\",\n      headers: getAuthHeaders()\n    }).then(res => res.json()).then(data => {\n      setExpenses(data);\n      const total = data.reduce((sum, item) => sum + item.amount, 0);\n      setTotalExpense(total);\n    }).catch(error => console.error(\"Failed to fetch expenses:\", error));\n  };\n\n  return {\n    totalExpense,\n    expenses,\n    fetchExpenses\n  };\n};\n\n_s(useExpenseData, \"1FSXZJcBpHiH8rJu+Zt5gVaANbc=\");\n\nexport default useExpenseData;","map":{"version":3,"sources":["C:/Users/Aishwarya/Desktop/PRACTICE/newwexpo/expo - Copy/client/src/components/utilities/totalexpense.js"],"names":["useState","useEffect","useExpenseData","expenses","setExpenses","totalExpense","setTotalExpense","apiUrl","getAuthHeaders","token","localStorage","getItem","fetchExpenses","fetch","method","headers","then","res","json","data","total","reduce","sum","item","amount","catch","error","console"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,cAAc,GAAG,MAAM;AAAA;;AAC3B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BJ,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACK,YAAD,EAAeC,eAAf,IAAkCN,QAAQ,CAAC,CAAD,CAAhD;AACA,QAAMO,MAAM,GAAG,mCAAf,CAH2B,CAK3B;;AACA,QAAMC,cAAc,GAAG,MAAM;AAC3B,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,WAAO;AACL,sBAAgB,kBADX;AAEL,uBAAkB,UAASF,KAAM;AAF5B,KAAP;AAID,GAND,CAN2B,CAc3B;;;AACAR,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,aAAa;AACd,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,aAAa,GAAG,MAAM;AAC1BC,IAAAA,KAAK,CAACN,MAAD,EAAS;AAAEO,MAAAA,MAAM,EAAE,KAAV;AAAiBC,MAAAA,OAAO,EAAEP,cAAc;AAAxC,KAAT,CAAL,CACGQ,IADH,CACSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EADjB,EAEGF,IAFH,CAESG,IAAD,IAAU;AACdf,MAAAA,WAAW,CAACe,IAAD,CAAX;AACA,YAAMC,KAAK,GAAGD,IAAI,CAACE,MAAL,CAAY,CAACC,GAAD,EAAMC,IAAN,KAAeD,GAAG,GAAGC,IAAI,CAACC,MAAtC,EAA8C,CAA9C,CAAd;AACAlB,MAAAA,eAAe,CAACc,KAAD,CAAf;AACD,KANH,EAOGK,KAPH,CAOUC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAc,2BAAd,EAA2CA,KAA3C,CAPpB;AAQD,GATD;;AAWA,SAAO;AAAErB,IAAAA,YAAF;AAAgBF,IAAAA,QAAhB;AAA0BS,IAAAA;AAA1B,GAAP;AACD,CA/BD;;GAAMV,c;;AAiCN,eAAeA,cAAf","sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\nconst useExpenseData = () => {\r\n  const [expenses, setExpenses] = useState([]);\r\n  const [totalExpense, setTotalExpense] = useState(0);\r\n  const apiUrl = \"http://localhost:8080/api/expense\";\r\n\r\n  // Helper to get auth headers (JWT from localStorage)\r\n  const getAuthHeaders = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    return {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": `Bearer ${token}`,\r\n    };\r\n  };\r\n\r\n  // Fetch expenses from backend\r\n  useEffect(() => {\r\n    fetchExpenses();\r\n  }, []);\r\n\r\n  const fetchExpenses = () => {\r\n    fetch(apiUrl, { method: \"GET\", headers: getAuthHeaders() })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setExpenses(data);\r\n        const total = data.reduce((sum, item) => sum + item.amount, 0);\r\n        setTotalExpense(total);\r\n      })\r\n      .catch((error) => console.error(\"Failed to fetch expenses:\", error));\r\n  };\r\n\r\n  return { totalExpense, expenses, fetchExpenses };\r\n};\r\n\r\nexport default useExpenseData;\r\n"]},"metadata":{},"sourceType":"module"}